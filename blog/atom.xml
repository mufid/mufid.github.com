<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Mufid's Code blog]]></title>
  <link href="http://mufid.github.io/atom.xml" rel="self"/>
  <link href="http://mufid.github.io/"/>
  <updated>2020-02-24T04:40:17+00:00</updated>
  <id>http://mufid.github.io/</id>
  <author>
    <name><![CDATA[Mufid]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Masuk dengan MFA pada antarmuka AWS CLI]]></title>
    <link href="http://mufid.github.io/blog/2019/mfa-aws-cli/"/>
    <updated>2019-12-26T06:28:00+00:00</updated>
    <id>http://mufid.github.io/blog/2019/mfa-aws-cli</id>
    <content type="html"><![CDATA[<p>MFA (multi-factor authentication) menawarkan mekanisme login yang lebih aman.
Pada AWS, kita bisa memaksa setiap pengguna agar menghidupkan MFA. Setiap kali
kita login, kita akan ditanya token untuk MFA. MFA yang cukup lazim adalah
menggunakan TOTP seperti Google Authenticator atau Authy.</p>

<p>Pada kasus kali ini, saya mengasumsikan setiap akun IAM memiliki akses yang
terbatas (hanya read). Jika akun pengguna tersebut mau melakukan akses
tulis, mereka harus melakukan Switch Role.</p>

<p>Berikut adalah script yang bisa digunakan untuk switch role melalui MFA</p>

<pre><code># Ganti ini ke ARN perangkat Anda
export DEVICE_ARN="arn:aws:iam::054121719833:mfa/mufid"

read -p "Enter token from MFA(from $DEVICE_ARN): " TOKEN
RESULT=$(aws sts get-session-token --serial-number $DEVICE_ARN --token-code $TOKEN)
export AWS_SECRET_ACCESS_KEY=$(echo "$RESULT" | yq -r '.Credentials.SecretAccessKey')
export AWS_SESSION_TOKEN=$(echo "$RESULT" | yq -r '.Credentials.SessionToken')
export AWS_ACCESS_KEY_ID=$(echo "$RESULT" | yq -r '.Credentials.AccessKeyId')

echo "SecretAccessKey = $AWS_SECRET_ACCESS_KEY"
echo "SessionToken = $AWS_SESSION_TOKEN"
echo "AccessKeyId = $AWS_ACCESS_KEY_ID"

aws configure set profile.mfa.aws_secret_access_key "$AWS_SECRET_ACCESS_KEY"
aws configure set profile.mfa.aws_access_key_id "$AWS_ACCESS_KEY_ID"
aws configure set profile.mfa.aws_session_token "$AWS_SESSION_TOKEN"

echo "Selesai! Lakukan perintah ini untuk mengakses role baru"
echo
echo "         export AWS_PROFILE=secureadmin"
echo
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Melakukan Analisis Log Nginx dengan GoAccess]]></title>
    <link href="http://mufid.github.io/blog/2019/goaccess/"/>
    <updated>2019-12-26T06:28:00+00:00</updated>
    <id>http://mufid.github.io/blog/2019/goaccess</id>
    <content type="html"><![CDATA[<p>Dokumen ini valid saat waktu penulisan. Saya menggunakan Ubuntu 18.04 dengan GoAccess versi 1.3.</p>

<p>Lakukan instalasi GoAccess: [<a href="https://goaccess.io/download">sumber</a>]</p>

<pre><code>echo "deb http://deb.goaccess.io/ $(lsb_release -cs) main" | sudo tee -a /etc/apt/sources.list.d/goaccess.list
wget -O - https://deb.goaccess.io/gnugpg.key | sudo apt-key add -
sudo apt-get update
sudo apt-get install goaccess
</code></pre>

<p>Buka hasilnya [<a href="https://stackoverflow.com/q/39232741/518091">sumber</a>]</p>

<pre><code>cd /var/log/nginx
zcat -f access.log* | goaccess --log-format=COMBINED
</code></pre>

<p>Voila, selesai!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Memindahkan Data Wordpress Pada Apache dan Ubuntu 16.04]]></title>
    <link href="http://mufid.github.io/blog/2019/moving-wordpress-16-04/"/>
    <updated>2019-11-27T15:34:00+00:00</updated>
    <id>http://mufid.github.io/blog/2019/moving-wordpress-16-04</id>
    <content type="html"><![CDATA[<p>Cara-cara:</p>

<ul>
<li>Siapkan mesin baru</li>
<li>Backup data dari mesin lama</li>
<li>Restore data ke mesin baru</li>
<li>Done</li>
</ul>


<!-- more -->


<h2>Menyiapkan Mesin Baru</h2>

<p>Sebelum memulai, pastikan DNS sudah propagate ke mesin baru.</p>

<p>Spin up mesin baru kemudian perbaru dulu</p>

<pre><code># apt-get update
# apt-get upgrade
</code></pre>

<p>Lakukan instalasi Apache dan Mariadb</p>

<pre><code># apt-get install apache2 mariadb
</code></pre>

<p>Konfigurasikan Mariadb ke default yang aman:</p>

<pre><code># mysql_secure_installation
</code></pre>

<p>Lakukan instalasi Certbot</p>

<pre><code>$ sudo apt-get update
$ sudo apt-get install software-properties-common
$ sudo add-apt-repository universe
$ sudo add-apt-repository ppa:certbot/certbot
$ sudo apt-get update
$ sudo apt-get install certbot python-certbot-apache 
</code></pre>

<p>Instalasi apache2 SSL dari Certbot:</p>

<pre><code>$ sudo certbot --apache
</code></pre>

<p>Virtual Host biasanya akan kosong. Tidak masalah, nanti pilih saja yang di le-ssl.</p>

<p>Lakukan instalasi PHP 7.0:</p>

<pre><code># apt-get install php7.0 libapache2-mod-php7.0 php7.0-mysql php7.0-curl php7.0-mbstring php7.0-gd php7.0-xml php7.0-xmlrpc php7.0-intl php7.0-soap php7.0-zip
</code></pre>

<h2>Backup dari mesin lama</h2>

<p>Backup HTML:</p>

<pre><code>$ cd /var/www
$ tar cvf www-backup.tar.gz www
</code></pre>

<p>Kirim ke mesin baru:</p>

<pre><code>$ scp www-backup.tar.gz root@mesinbaru:~
</code></pre>

<p>Backup SQL</p>

<pre><code>$ mysqldump -u [user] -p [database_name] &gt; mysqlbackup.sql
</code></pre>

<p>Kirim ke mesin baru:</p>

<pre><code>$ scp mysqlbackup.sql root@mesinbaru:~
</code></pre>

<h2>Restore Mesin Baru</h2>

<p>Extract dan salin arsip HTML:</p>

<pre><code>$ tar xvf www-backup.tar.gz
$ cp html /var/www -r
$ cd /var/www
$ chown www-data:www-data www -r
</code></pre>

<p>Buat akun Mariadb:</p>

<pre><code>$ mariadb
mariadb&gt; CREATE USER 'newuser'@'localhost' IDENTIFIED BY 'passwordyangdiinginkan';
mariadb&gt; GRANT ALL PRIVILEGES ON * . * TO 'newuser'@'localhost';
mariadb&gt; FLUSH PRIVILEGES;
</code></pre>

<p>Buat database wordpress-nya:</p>

<pre><code>$ mariadb
mariadb&gt; CREATE DATABASE databasenya;
</code></pre>

<p>Restore database:</p>

<pre><code>$ mysql -u newuser -p databasenya &lt; mysqlbackup.sql
</code></pre>

<p>Selesai. Bagian akhir dari dokumen.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails Static Router]]></title>
    <link href="http://mufid.github.io/blog/2019/rails-static-router/"/>
    <updated>2019-09-28T15:34:00+00:00</updated>
    <id>http://mufid.github.io/blog/2019/rails-static-router</id>
    <content type="html"><![CDATA[<p>One year ago, I need to serve single page on asset folder in my Rails application. However,
I can&rsquo;t use Nginx to directly serve the file since preprocessing is required by Rack middleware.
Also, all of the assets is served via CDN and I can&rsquo;t simply redirect the path into CDN, as
JEB path my change dependencing on CDN configuration.
Then I found following <a href="https://stackoverflow.com/questions/12608424/serving-static-html-in-rails-with-a-layout-file">StackOverflow question</a>:</p>

<!-- more -->


<p><img src="http://mufid.github.io/images/post/rails-static-router-1.png" alt="Stackoverflow Question" /></p>

<p>The first answer pointed me to use <a href="https://github.com/thoughtbot/high_voltage">High Voltage</a>
gem. However, I think it is overkill. I don&rsquo;t need to serve dozens of page.</p>

<p>I then opened another <a href="https://stackoverflow.com/questions/5631145/routing-to-static-html-page-in-public/43183300#43183300">Stackoverflow Question</a>:</p>

<p><img src="http://mufid.github.io/images/post/rails-static-router-2.png" alt="Stackoverflow Question" /></p>

<p>The next answer is fairly fit my needs. It only need add 1 file to
my Rails installation, then I only need add <code>static(filename)</code> to
my <code>routes.rb</code>. Very great!</p>

<p>The answer was from Eliot Sykes. However, it wasn&rsquo;t work for Rails 5 and
I need a little tweak to make it works. After all, the tweak works
and I can use his code on my project.</p>

<p>Weeks later, I needed to put it into my another project.
I need to copy the single lib file to my new project. Yes, only
single file. But it would be very nice if it is packaged as a
Rubygem. I asked Eliot if I can publish the Rubygem within his
name. He asked me back how about I publish the Rubygem as he
is no more maintaining the library. He give me permission
to fork the project and then redirect the original repo to
my repo.</p>

<p>Currently, I maintained the library and I make sure
the library is compatible with the latest Rails version.</p>

<p>If your use case fits the library purpose, go ahead
<a href="https://github.com/mufid/rails-static-router">visit the repo and install it into your Rails project</a>.</p>

<p>Hope it helps!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mendapatkan Surel (Email) Phising]]></title>
    <link href="http://mufid.github.io/blog/2018/email-phising/"/>
    <updated>2018-10-11T07:40:00+00:00</updated>
    <id>http://mufid.github.io/blog/2018/email-phising</id>
    <content type="html"><![CDATA[<p>Ini pertama kalinya saya mendapatkan surel Phising. Surel
Phising ini sendiri adalah sebuah surel yang mirip
seolah-olah seperti surel asli dengan tujuan mencuri
data pengguna. Kalau di SMS, ini mirip seperti &ldquo;SELAMAT!
NOMOR ANDA MENDAPAT HADIAH.&rdquo; Padahal hadiahnya tidak ada.</p>

<p><img src="http://mufid.github.io/images/post/phising-1.png" alt="Phising 1" />
<img src="http://mufid.github.io/images/post/phising-2.png" alt="Phising 2" />
<img src="http://mufid.github.io/images/post/phising-3.png" alt="Phising 3" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Internet Positif, DNSCrypt, dan Internet yang Terkesan Melambat]]></title>
    <link href="http://mufid.github.io/blog/2017/internet-positif-dns/"/>
    <updated>2017-02-12T15:30:00+00:00</updated>
    <id>http://mufid.github.io/blog/2017/internet-positif-dns</id>
    <content type="html"><![CDATA[<p>Masih ingat kasus pemblokiran Twitter di Turki?</p>

<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Twitter is blocked in Turkey. On the streets of Istanbul, the action against censorship is graffiti DNS addresses. <a href="http://t.co/XcsfN7lJvS">pic.twitter.com/XcsfN7lJvS</a></p>&mdash; Utku Can (@utku) <a href="https://twitter.com/utku/status/446956710502993920">March 21, 2014</a></blockquote>




<!-- more -->


<p>Semua orang menyarankan untuk menggunakan Google DNS. Akan tetapi, di
Indonesia, Google DNS di-redirect oleh pemerintah kita lewat program bernama
internet positif. Mari kita buktikan:</p>

<pre><code>$ dig reddit.com @8.8.8.8

; &lt;&lt;&gt;&gt; DiG 9.11.0-P3 &lt;&lt;&gt;&gt; reddit.com @8.8.8.8
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 2443
;; flags: qr rd; QUERY: 1, ANSWER: 2, AUTHORITY: 1, ADDITIONAL: 0
;; WARNING: recursion requested but not available

;; QUESTION SECTION:
;reddit.com.                    IN      A

;; ANSWER SECTION:
reddit.com.             604800  IN      CNAME   internet-positif.org.
internet-positif.org.   30      IN      A       118.97.116.27

;; AUTHORITY SECTION:
telkomblacklisting.co.id. 604800 IN     SOA     localhost. root.localhost. 2017021207 3600 3600 604800 604800

;; Query time: 2 msec
;; SERVER: 8.8.8.8#53(8.8.8.8)
;; WHEN: Sun Feb 12 07:43:20 SE Asia Standard Time 2017
;; MSG SIZE  rcvd: 152
</code></pre>

<p>Anda bisa lihat pada baris <code>ANSWER</code>, saya mendapatkan balasan
<code>internet-positif.org.</code> untuk pertanyaan <code>reddit.com.</code>. Aneh sekali, bukan?
Padahal saya sudah meminta agar DNS Google (8.8.8.8) yang menjawab. Saya
menduga, sebuah <em>firewall</em> atau semacamnya me-<em>redirect</em> <em>traffic</em> dari port
DNS (53).
Alih-alih tersambung ke DNS Google, paket saya di re-route ke DNS pemerintah.</p>

<p>Oleh karenanya, saya menggunakan <a href="https://dnscrypt.org/">DNSCrypt</a>.</p>

<p>Dalam banyak kasus, saya selalu menggunakan DNSCrypt. Alasan pertama adalah
alasan kecepatan respons perintah DNS. Dalam beberapa kasus,
DNS &ldquo;pemerintah&rdquo; terlalu lambat dan
peramban saya menjadi tidak bekerja. Alasan kedua adalah ada beberapa situs
yang justru tidak bisa diakses dengan DNS &ldquo;pemerintah&rdquo; pada beberapa kasus.
Misalnya saja <a href="https://my.cl.ly">CloudApp</a>.</p>

<p>Berhubung DNSCrypt bukanlah protokol DNS biasa, Anda perlu menggunakan perantara
agar Anda dapat mulai menggunakan DNSCrypt. Perantara ini akan bertindak sebagai
DNS Server biasa. Anda kemudian akan menyambungkan ke DNS Server ini. Di
Windows, Anda dapat menggunakan perantara bernama
<a href="https://simplednscrypt.org/">SimpleDNSCrypt</a>.</p>

<p>Ketika DNSCrypt telah terpasang, dia akan hidup, <em>by default</em>, di <em>loopback</em>
127.0.0.1 pada port 53. Mari kita coba bertanya alamat IP dari Reddit.com
lewat DNSCrypt:</p>

<pre><code>$ dig reddit.com @127.0.0.1

; &lt;&lt;&gt;&gt; DiG 9.11.0-P3 &lt;&lt;&gt;&gt; reddit.com @127.0.0.1
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 50641
;; flags: qr rd ra; QUERY: 1, ANSWER: 4, AUTHORITY: 4, ADDITIONAL: 2

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;reddit.com.                    IN      A

;; ANSWER SECTION:
ReDdit.COM.             262     IN      A       151.101.65.140
ReDdit.COM.             262     IN      A       151.101.193.140
ReDdit.COM.             262     IN      A       151.101.1.140
ReDdit.COM.             262     IN      A       151.101.129.140

;; AUTHORITY SECTION:
ReDdit.COM.             67583   IN      NS      ns-378.awsdns-47.com.
ReDdit.COM.             67583   IN      NS      ns-1029.awsdns-00.org.
ReDdit.COM.             67583   IN      NS      ns-1887.awsdns-43.co.uk.
ReDdit.COM.             67583   IN      NS      ns-557.awsdns-05.net.

;; ADDITIONAL SECTION:
ns-378.awsdns-47.COM.   172526  IN      A       205.251.193.122

;; Query time: 392 msec
;; SERVER: 127.0.0.1#53(127.0.0.1)
;; WHEN: Sun Feb 12 07:43:40 SE Asia Standard Time 2017
;; MSG SIZE  rcvd: 283
</code></pre>

<p>Baiklah. Sekarang saya bisa mengakses Reddit. Akan tetapi, masalah belum
selesai. Beberapa web memang responnya lebih cepat (hostname query), tetapi
kecepatan transfer menjadi lebih lambat. Hal ini CDN, ya, Content Delivery
Network yang justru dirancang agar Anda dapat menikmati konten lebih cepat
justru melambat dengan Anda menggunakan DNSCrypt. Ini karena beberapa CDN
menggunakan DNS untuk mendeteksi mana server yang &ldquo;terdekat&rdquo; dengan kita.</p>

<p>Contohnya adalah Origin. Saat saya mengunduh dari Origin, internet terasa lambat
sekali. Saya menggunakan langganan 10 mbps, tetapi kecepatan yang saya dapat
justru hanya sekitar sepersepuluhnya:</p>

<p><img src="http://mufid.github.io/images/post/origin-slow.png" alt="" /></p>

<p>Kalau saya matikan DNSCrypt, inilah yang terjadi:</p>

<p><img src="http://mufid.github.io/images/post/origin-fast.png" alt="" /></p>

<p>Mengapa seperti itu? Saat tidak menggunakan DNSCrypt, proses pencarian server
terdekat oleh CDN terjadi secara &ldquo;natural&rdquo; karena memang kita menggunakan DNS
yang terdekat dengan kita, dalam kasus ini adalah DNS Telkom. Akan tetapi,
ketika menggunakan DNSCrypt, CDN akan &ldquo;dibodohi&rdquo; karena mereka tidak tahu
bahwa DNS yang kita gunakan bukanlah DNS yang terdekat dengan kita. Dalam
konteks saya, saya menggunakan server DNSCrypt di Eropa.</p>

<p>Mari kita buktikan. Saya akan menggunakan <a href="https://docs.microsoft.com/en-us/sysinternals/downloads/process-explorer">Process Explorer</a> dari Sysinternals.
Saya pilih Origin, klik kanan > Properties. Kemudian, saya pilih TCP/IP.</p>

<p>Saat tersambung tanpa DNSCrypt, Origin tersambung ke jaringan berikut:</p>

<pre><code>a104-93-98-193.deploy.static.akamaitechnologies.com
36.66.10.126
a104-93-87-243.deploy.static.akamaitechnologies.com
</code></pre>

<p>Mari kita ambil yang paling atas karena host tersebut memiliki sambungan
paling banyak di komputer saya saat pengujian dilakukan. Lakukan <code>traceroute</code>
ke host tersebut:</p>

<pre><code>$ tracert a104-93-98-193.deploy.static.akamaitechnologies.com

Tracing route to a104-93-98-193.deploy.static.akamaitechnologies.com [104.93.98.193]
over a maximum of 30 hops:

  1    &lt;1 ms    &lt;1 ms    &lt;1 ms  1.1.168.192.in-addr.arpa [192.168.1.1]
  2     4 ms     1 ms     1 ms  36.77.192.1
  3     1 ms     1 ms     1 ms  PE-BOO-HUAWEI.telkom.net.id [125.160.0.113]
  4     1 ms     1 ms     1 ms  69.171.94.61.in-addr.arpa [61.94.171.69]
  5     2 ms     7 ms     6 ms  a104-93-98-193.deploy.static.akamaitechnologies.com [104.93.98.193]

Trace complete.
</code></pre>

<p>Sekarang, keluar dari Origin, sambungkan DNSCrypt, dan lihat sambungan yang
terjadi. Ternyata banyak sambungan ke
<code>a92-122-201-149.deploy.akamaitechnologies.com</code>. Jika kita traceroute:</p>

<pre><code>$ tracert a92-122-201-149.deploy.akamaitechnologies.com

Tracing route to a92-122-201-149.deploy.akamaitechnologies.com [92.122.201.149]
over a maximum of 30 hops:

  1    &lt;1 ms    &lt;1 ms    &lt;1 ms  192.168.1.1
  2     5 ms     3 ms     3 ms  36.77.192.1
  3     4 ms     1 ms     1 ms  125.160.0.113
  4     1 ms     1 ms     1 ms  61.94.171.69
  5    20 ms    23 ms    22 ms  180.240.191.42
  6    17 ms    16 ms    16 ms  180.240.191.41
  7   155 ms   154 ms   156 ms  180.240.196.33
  8   167 ms   165 ms   165 ms  akamai.par.franceix.net [37.49.236.168]
  9   164 ms   164 ms   164 ms  a92-122-201-149.deploy.akamaitechnologies.com [92.122.201.149]

Trace complete.
</code></pre>

<p>Anda dapat lihat di sana, kita mengakses server CDN yang di Eropa. Cukup
jelas mengapa kecepatan pengunduhan menjadi melambat.</p>

<p><strong>UPDATE:</strong> Ternyata, ini tergantung dari server DNSCrypt yang dipilih.
Tadinya saya hanya memilih Cisco OpenDNS. Pada
saat post ini ditulis, saya tidak sadar ada server yang dekat, di Singapura.
Saat ini saya selalu menggunakan DNSCrypt dan memilih server Singapura. Dengan
demikian, tidak ada dampak negatif yang terasa. Ping tetap terasa tinggi
dan kecepatan transfer tetap tinggi.</p>

<p><strong>Update 2:</strong> Dokumen ini ditulis pada Februari 2017, tetapi saat saya coba lagi
di Agustus 2017, kecepatan unduh Origin tidak selambat sebelumnya. Memang masih
tetap lebih lambat daripada menggunakan CDN yang dekat, tetapi saat ini sudah
jauh lebih baik. Saya mendapatkan kecepatan sekitar 800 kbps, alih-alih di bawah
500 kbps beberapa bulan yang lalu. Sepertinya Telkom telah berbaik hati untuk
melepas throttle ke server yang jauh dari Indonesia. Yay!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Thermofidz: Membaca Temperatur dengan Raspberry PI]]></title>
    <link href="http://mufid.github.io/blog/2017/thermofidz/"/>
    <updated>2017-02-07T15:30:00+00:00</updated>
    <id>http://mufid.github.io/blog/2017/thermofidz</id>
    <content type="html"><![CDATA[<h2>Latar Belakang</h2>

<p>Pada kesempatan kali ini saya iseng luar biasa ingin membuat termometer yang
tersambung ke cloud. Istilah kerennya, &ldquo;Internet of Things.&rdquo; Ide ini muncul
karena akhir-akhir ini suhu udara tidak menentu. Terkadang saya gerah sekali
ketika malam hari. Saya memiliki termometer &ldquo;offline&rdquo; yang selalu memberi tahu
saya saat ini suhu udaranya berapa. Saya memiliki hipotesis, saya akan sangat
gerah dan berkeringat luar biasa jika suhu udara di atas 32 derajat celcius dan
saya akan merasa sejuk jika suhu udara di bawah 28 derajat celcius.</p>

<p>Untuk memvalidasi hipotesis saya, tentu saja saya perlu memiliki catatan berapa
suhu saat ini pada setiap waktu. Sayang sekali, termometer offline seharga
Rp30.000an ini tidak memiliki catatan. Andai ada sebuah termometer yang
memiliki catatan dan disimpan ke berkas, itu akan sangat membantu. Akhirnya
tercetuslah ide membuat termometer sendiri.</p>

<h2>Peralatan</h2>

<p>Saya mengikuti tutorial dari <a href="https://learn.adafruit.com/adafruits-raspberry-pi-lesson-11-ds18b20-temperature-sensing/hardware">Adafruit</a>
mengenai cara membaca temperatur dengan Raspberry. Di tutorial tersebut,
mereka menggunakan sensor DS18B20. Saya segera mencari sensor tersebut di
<a href="https://www.bukalapak.com/products/s?search%5Bkeywords%5D=ds18b20">Bukalapak</a>.
di sana kita akan menemukan banyak produk, tetapi banyak pelapak yang tidak
aktif juga. Saya kemarin membeli di <a href="https://www.bukalapak.com/p/rumah-tangga/elektronik-1111/lain-lain-220/lmm0-jual-sensor-suhu-ds18b20">lapak yang ini</a>.
Dan iya, harga sensornya Rp30.000an &mdash; sudah sama mahalnya dengan termometer
offline yang saya beli.</p>

<p>Kemudian saya membeli breadboard di <a href="https://www.tokopedia.com/pcmelektrobik">toko elektronik dekat kantor</a>.
Harganya Rp27.000. Saya juga membeli satu paket resistor Sparksfun di
<a href="http://www.famosastudio.com/resistor-kit-025w-500-total">Famosa Studio</a>. Dengan
peralatan yang sudah siap di tangan, saya bisa mengikuti tutorial dari Adafruit.
Skematik yang diberikan cukup straightforward. Tada, ini dia hasilnya.</p>

<p>!!!!!!!!!!!!!!!!!! photos goes here</p>

<h2>Konfigurasi Raspberry</h2>

<p>Selanjutnya adalah menyiapkan Raspberry. Saat itu saya mencoba dengan Raspberry
generasi awal tipe B dengan memori 256 MB. Kemudian agar tidak lambat updatenya,
saya memasang Raspbian versi terbaru ke SD Card dengan Win32DiskImager. Begitu
saya tancap kabel power, Raspberry tidak tersambung ke jaringan. Bahkan dia
tidak hidup, hanya ada 1 LED merah yang menyarah (power) dabntidak ada
tanda-tanda kehidupan. Ups.</p>

<p>Penasaran, saya pindahkan SD Card ke Raspberry PI saya yang satu lagi yang
berukuran 512 MB. Hidup! Ada aktivitas disk! Ada aktivitas jaringan, tetapi
gagal saya ssh. Ups. Saya coba login manual dengan menancapkan kabel HDMI ke
monitor dan menancapkan kabel keyboard USB. Usut punya usut, ternyata SSH
daemon harus diaktifkan secara manual. Oh. Oke, perkara sederhana.</p>

<p>Meski demikian, saya masih penasaran mengapa versi terbaru tidak jalan di model
256 MB. Oleh karenanya saya coba memasang versi yang berbeda di SD Card dan
mencoba menancapkannya di masing-masing Raspberry yang saya miliki. Berikut
hasilnya:</p>

<table>
<thead>
<th>Model/Konfigurasi</th>
<th>2016-03-18-raspbian-jessie-lite</th>
<th>2017-01-11-raspbian-jessie-lite</th>
</thead>
<tbody>
<tr>
<td>Raspbery PI B (Gen. 1) 256 MB</td>
<td>Jalan</td>
<td>Tidak mau hidup, layar boot tidak muncul</td>
</tr>
<tr>
<td>Raspbery PI B (Gen. 1) 512 MB</td>
<td>Jalan</td>
<td>Jalan</td>
</tr>
</tbody>
</table>


<p>Hmmmm. Cukup. Aneh. Entah saya yang terburu-buru, atau memang ada galat di
versi terbaru. Saya tidak yakin yang terakhir. Tapi saya sudah melakukan
rewrite berulang-ulang ke SD Card saya dan hasilnya sama saja. Oke, kita
settle-kan saja dengan yang 512 MB dulu.</p>

<p>Tutorial dari Adafruit cukup straightforward. Akan tetapi script Python nya
terlalu panjang untuk saya. Saya akhirnya membuat Bash Script sederhana seperti
ini:</p>

<pre><code>$ cat worker.sh
#!/bin/bash

TARGET=$(find /sys/devices/w1_bus_master1/28* | grep w1_slave)
TEMP=$(cat $TARGET | grep -o 't=.*')
echo "Temperature reading is: $TEMP"
</code></pre>

<p>Mari kita lihat hasilnya</p>

<pre><code>$ bash worker.sh
Temperature reading is: t=29250
</code></pre>

<p>Woow berjalan dengan sempurna! Baiklah, seharusnya, saya tinggal membuat Cronjob
kemudian menyimpan hasilnya ke berkas file. Jadilah sebuah pencatat temperatur.
Kendati demikian, saya ingin membuat hal yang lebih menarik yaitu menyambungkan
perangkat ini ke Cloud. Oleh karena saya malas membuat basis data yang kompleks,
saya memilih untuk menggunakan Git saja.</p>

<p>Sementara, hasil bacaan dari temperatur dapat dilihat pada akun Github saya:</p>

<p><a class="embedly-card" href="http://github.com/mufid/thermofidz">mufid/thermofidz</a></p>

<script async src="http://mufid.github.io//cdn.embedly.com/widgets/platform.js" charset="UTF-8"></script>


<p>Btw, ini hasil rangkaiannya. Tidak jauh berbeda dengan yang ditunjukkan oleh
Adafruit:</p>

<p><img src="http://mufid.github.io/images/post/raspi-temp-electronics.jpg" alt="Hasil Utak Atik" /></p>

<p>Yak, begitulah.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Benchmarking ActiveRecord Load: #find_in_batches (or #find_each) and #each For Processing Bulk Records]]></title>
    <link href="http://mufid.github.io/blog/2016/rails-batch-performance/"/>
    <updated>2016-12-15T15:00:00+00:00</updated>
    <id>http://mufid.github.io/blog/2016/rails-batch-performance</id>
    <content type="html"><![CDATA[<p>Currently i am building a small enough Rails application, but somehow on some
endpoints, we process and iterate 10k records on a single request. Sure i am
caching all of those requests, but 870ms response time for first request is
still unacceptable for me.</p>

<p>Some says it is problem with the JSON rendering. Then i installed oj gem, but
the request didn&rsquo;t get a noticable faster rendering. And then i deleted all
JSON rendering, the request still on 800-ish ms response time. All of these
findings suggest me that the problem is in the model / query itself.</p>

<p>When processing much records, it would be very easy to get out of memory
problem if it is being done incorrectly. By default, when using <code>#each</code> method,
Rails will load <em>all records</em> with specified filters (<code>where</code>, scope, etc)
<em>into memory</em>. Thus, Rails&#8217; recommendation is to use <code>find_each</code> command,
which internally using <code>find_in_batches</code> method. <code>find_in_batches</code> will not
try to load all matched records in memory. Instead, it will load records by
batch.</p>

<p>The thing is, i was using <code>find_each</code>, but somehow, i was stuck on 2 seconds
request. I think the problem was the <code>find_in_batches</code> so i changed the
implementation to use <code>find_in_batches</code>. However, this way didn&rsquo;t help me.
I still got 800-ish ms response time.</p>

<p>Somehow, i was curious, was the problem is inside the find_in_batches? Or
is it in the Ruby yield and loop? I am not sure since computer nowadays have
gigahertz of computing power. However, i did the benchmark and the benchmark
looks like this:</p>

<pre><code>class Metadata &lt; ApplicationRecord
  def build_summary
    points = Metadata.where('retrieved_at &gt; \'2000-01-01 00:00:00\'')

    logger.info 'Benchmark: #find_in_batches'
    logger.info begin
      Benchmark.measure do
        points.find_in_batches do |dp|
          logger.info "End finding batches. Found: #{dp.count}"
        end
      end
    end

    logger.info 'Benchmark: #all'
    logger.info begin
      Benchmark.measure do
        points.each do |dp|
          # yield nothing
        end
      end
    end

    logger.info 'Benchmark: 10k loop'
    logger.info begin
      Benchmark.measure do
        (1..10_000).each do |i|
          # yield no one
        end
      end
    end
  end
end
</code></pre>

<p>I added &lsquo;normal&rsquo; loop, just curious if the problem is inside the
Ruby&rsquo;s interpreter.</p>

<p>Here is the result. I did this on Dual Core 4 GB RAM Virtualbox inside Intel
Core i5 with 16 GB RAM. I used Ruby 2.3.1 and Rails 5.0.0.1. For database, i
use PostgreSQL 9.6.</p>

<pre><code>I, [2016-12-15T14:56:37.463516 #28376]  INFO -- : Benchmark: #find_in_batches
I, [2016-12-15T14:56:37.511837 #28376]  INFO -- : End finding batches. Found: 1000
D, [2016-12-15T14:56:37.516353 #28376] DEBUG -- :   Metadata Load (3.2ms)
I, [2016-12-15T14:56:37.550252 #28376]  INFO -- : End finding batches. Found: 1000
D, [2016-12-15T14:56:37.553774 #28376] DEBUG -- :   Metadata Load (2.8ms)
I, [2016-12-15T14:56:37.596984 #28376]  INFO -- : End finding batches. Found: 1000
D, [2016-12-15T14:56:37.603011 #28376] DEBUG -- :   Metadata Load (5.4ms)
I, [2016-12-15T14:56:37.645731 #28376]  INFO -- : End finding batches. Found: 1000
D, [2016-12-15T14:56:37.652892 #28376] DEBUG -- :   Metadata Load (6.5ms)
I, [2016-12-15T14:56:37.692978 #28376]  INFO -- : End finding batches. Found: 1000
D, [2016-12-15T14:56:37.696923 #28376] DEBUG -- :   Metadata Load (3.1ms)
I, [2016-12-15T14:56:37.738265 #28376]  INFO -- : End finding batches. Found: 1000
D, [2016-12-15T14:56:37.742807 #28376] DEBUG -- :   Metadata Load (3.5ms)
I, [2016-12-15T14:56:37.787560 #28376]  INFO -- : End finding batches. Found: 1000
D, [2016-12-15T14:56:37.792086 #28376] DEBUG -- :   Metadata Load (3.1ms)
I, [2016-12-15T14:56:37.828058 #28376]  INFO -- : End finding batches. Found: 1000
D, [2016-12-15T14:56:37.836220 #28376] DEBUG -- :   Metadata Load (7.2ms)
I, [2016-12-15T14:56:37.907940 #28376]  INFO -- : End finding batches. Found: 1000
D, [2016-12-15T14:56:37.911302 #28376] DEBUG -- :   Metadata Load (2.8ms)
I, [2016-12-15T14:56:37.943847 #28376]  INFO -- : End finding batches. Found: 1000
D, [2016-12-15T14:56:37.945335 #28376] DEBUG -- :   Metadata Load (0.9ms)
I, [2016-12-15T14:56:37.949258 #28376]  INFO -- : End finding batches. Found: 157
I, [2016-12-15T14:56:37.949421 #28376]  INFO -- :   0.330000   0.010000   0.340000 (  0.485759)
I, [2016-12-15T14:56:37.949613 #28376]  INFO -- : Benchmark: #all
D, [2016-12-15T14:56:37.991020 #28376] DEBUG -- :   Metadata Load (40.9ms)
I, [2016-12-15T14:56:38.218292 #28376]  INFO -- :   0.220000   0.000000   0.220000 (  0.268597)
I, [2016-12-15T14:56:38.218840 #28376]  INFO -- : Benchmark: 10k loop
I, [2016-12-15T14:56:38.219272 #28376]  INFO -- :   0.000000   0.000000   0.000000 (  0.000362)
</code></pre>

<p>Sure it is not the Ruby&rsquo;s interpreter problem since vanilla 10k loop only took
0.3 msec. Comparable to native speed, huh? But we found several interesting
findings:</p>

<ul>
<li>using #each is faster than using #find_in_batches (480 ms to 260 ms)</li>
<li>&hellip; What &ldquo;{Model} Load (some ms)&rdquo; means? It does not even reflect the real
load time. &ldquo;Metadata Load 40.9 ms&rdquo;, meanwhile the real load time is 268 ms.
If we compare from logger timestamp, it is also around 268 ms (38.218 &ndash; 37.949).
Seems like internally they use different measurement tip.</li>
<li>For each group in find_in_batches, the &ldquo;Metadata Load&rdquo; itself does not reflect
the real time to yield the method. If we compare each DEBUG line, it will be
around 40ms (e.g.: Look 37.550252 &ndash; 37.516353), pretty far from 3.2ms.</li>
</ul>


<p>So what is my solution for processing 10k records? I don&rsquo;t know. The page itself
will rarely change, so caching the request will help it much. But i am still
curious, why processing only 10k records can took up to 800ms.</p>

<p>Also, i am still curious why &ldquo;Model Load&rdquo; says faster than the time it is
actually need. It took 40ms between yield but it says loaded in 3.2ms.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FR: Sebuah Prediksi Cuaca yang Tidak Berlaku untuk Pulau Harapan]]></title>
    <link href="http://mufid.github.io/blog/2016/fr-harapan/"/>
    <updated>2016-12-08T14:00:00+00:00</updated>
    <id>http://mufid.github.io/blog/2016/fr-harapan</id>
    <content type="html"><![CDATA[<p>Jadi, <a href="http://peentar.id">kantor saya yang sekarang</a> mengadakan acara jalan-jalan ke Pulau Harapan.
Kali ini agak berbeda dengan <a href="https://mufid.github.io/blog/2013/fr-jogja/">FR saya sebelumnya</a>, saya
<em>tidak</em> akan menulis tentang harga sama sekali karena semua akomodasi dibayarkan oleh kantor.</p>

<blockquote><p>Catatan: FR ini akan diperbarui lagi ketika foto sudah diunggah <s>dan jika saya tidak malas</s>.</p></blockquote>

<!-- more -->


<h3>Piknik Peentar</h3>

<p>H1 di atas buat SEO aja. Abaikan. Karena kita cinta organik &lt;3 LOL</p>

<h3><em>Preflight</em> dan Hari ke-1</h3>

<p>Sebelum berangkat, rekan saya menakut-nakuti dengan <a href="http://megapolitan.kompas.com/read/2016/12/03/06555671/jabodetabek.dan.provinsi.lainnya.diprediksi.hujan.disertai.angin.kencang">berita ini</a>:</p>

<blockquote><p>Badan Meteorologi, Klimatologi dan Geofisika (BMKG) memprakirakan potensi hujan deras
disertai petir dan angin kencang di sejumlah provinsi di Indonesia mulai Sabtu (3/12/2016)
hingga Kamis (8/12/2016).</p></blockquote>

<p>Astaga. Kalau begini caranya, saya membayangkan</p>

<ul>
<li>ombak yang besar,</li>
<li>angin yang tidak bersahabat, serta</li>
<li>hujan yang tiada henti.</li>
</ul>


<p>sehingga saya pastikan saya membawa Drybag serta membuat proteksi ganda dengan raincover
untuk daypack saya. Andai terjadi hujan yang luar biasa, saya tidak perlu takut pakaian saya basah.</p>

<p>Kami berangkat pada tanggal 6 Desember dengan taksi ke muara angke (yup, dibayarkan oleh kantor,
tentu saja). Meski demikian, awalnya kami berpikir untuk Uber atau Grab saja, akan tetapi kami
gagal menemukan driver pada laman <em>matchmaking</em> aplikasi. Pernah <em>sih</em> pencarian driver berhasil,
tetapi kemudian dibatalkan oleh driver yang bersangkutan. Huft.</p>

<p>Kami berangkat sekitar pukul 03.30 dini hari dan sampai pukul 04.30. Kami shalat subuh kemudian
bersantai sejenak hingga pukul 06.00. Salah satu cerita kami saat bersantai kemarin adalah supirnya
yang <a href="https://www.youtube.com/watch?v=6CO7Zsqx4h0">&ldquo;Light on Fire&rdquo;</a>. <em>Ngebut banget!</em> katanya.
Akan tetapi, menurut saya, itu masih &ldquo;normal&rdquo;. Dulu saya naik bis malam lebih sadis lagi.</p>

<p>Kami nge-tag tempat pukul 06.00 dan kapal baru benar-benar berangkat sekitar pukul 07.30. Tidak
seperti biasanya; karena ada yang mengatakan cuaca akan sedikit kacau, saya tidak membawa buku
&mdash;&ndash; khawatir membawa buku malah akan merusak buku kesayangan saya. Saya mendengarkan radio FM
saja dan mendengarkan musik, sembari menulis cerita pendek dan puisi singkat.</p>

<blockquote><p>Tips di kapal:</p>

<ul>
<li>Kapalnya cukup besar, <em>double decker</em>, agak berbeda dengan kapal yang saya
naiki enam tahun yang lalu untuk ke Pulau Tidung. <em>Deck</em> pertama adalah
<em>deck</em> dengan kursi. <em>Deck</em> kedua adalah <em>deck</em> tanpa kursi. Jika Anda suka
<em>selonjoran</em>, <em>deck</em> kedua cocok untuk Anda.</li>
<li>Apapun <em>deck</em> yang Anda pilih, pertimbangkan untuk menjauhi mesin. Mesin
sangat berisik.</li>
<li><em>Deck</em> pertama lumayan dingin karena tidak terkena sinar matahari langsung</li>
<li><em>Deck</em> teratas juga sebenarnya dingin karena banyak angin, tetapi Anda juga
sekaligus akan terkena sinar matahari yang langsung. Mungkin Anda akan
mempertimbangkan untuk menggunakan <em>sunblock</em>.</li>
<li>Pertimbangkan untuk membawa jaket <em>wind blocker</em> untuk melawan angin yang
sangat kuat.</li>
</ul>
</blockquote>

<p>Kami sampai persis pukul 10.30. Kami segera melakukan <em>unpack</em> dan bersiap untuk shalat, makan
siang, dan melaksanakan CSR dari Peentar. CSR selesai pukul 13.30 dan kami
mendapatkan informasi yang cukup banyak dari penduduk setempat. Sayang sekali
saat blog ini ditulis, informasi yang cukup banyak tersebut ada di rekan Saya.
Saya akan perbarui kembali blog ini dengan informasi yang kami dapat jika
<s>saya tidak malas</s> saya sudah bertemu lagi dengan rekan saya.</p>

<p>Setelah selesai, pukul 14.00 kami berangkat ke Pulau <s>Bakwan</s> Perak. Perjalanan
ke pulau perak memakan waktu kurang lebih satu jam. Kami sampai sekitar
mendekati pukul 15.00; saya lupa persisnya jam berapa. Di pulau perak saya
shalat dulu untuk kemudian menuliskan laporan CSR di sana. Kami pergi lagi dari
pulau perak pukul&hellip;.. hmmm&hellip; Saya lupa. Yang pasti kami sampai lagi di pulau
harapan pukul&hellip; hmmmmm&hellip; saya juga lupa : /. Yang pasti kami jam 19.00 sudah
siap untuk santap malam.</p>

<blockquote><p>Tips khusus untuk muslim yang berniat berjalan-jalan ke pantai:</p>

<ul>
<li>Salah satu syarat untuk shalat adalah <a href="http://rozikinmuafa.lecture.ub.ac.id/2014/07/shalat-dengan-pakaian-kotor/">suci dari najis</a> dan kotor belum
tentu najis. Jadi, pertimbangkan membawa semacam tikar yang dibungkus
drybag saat pergi ke pulau yang tidak ada musholanya.</li>
<li>Anda boleh <a href="http://muslim.or.id/1853-air-yang-digunakan-untuk-berwudhu.html">berwudhu dengan air laut</a>.</li>
</ul>
</blockquote>

<p>Hari diakhiri dengan presentasi hasil CSR kami dan acara BBQ ikan dan jagung.
Saya tidur pukul 10.00 karena mengantuk sekali.</p>

<h3>Hari ke-2</h3>

<p>Saya bangun berkali-kali di malam hari, tetapi tidur saya dengan mimpi &mdash;
menandakan saya dapat REM dan berarti tidur saya nyenyak. Saya benar-benar
bangun pukul&hellip;.. hmmm&hellip; lupa lagi : / Yang pasti saat bangun saya mencoba
untuk melihat langit dulu, dan ternyata langitnya berawan karena tadinya saya
meniatkan untuk <em>stargazing</em>.</p>

<p>Kami santap pagi pada pukul 06.30. Setelah itu saya mengosongkan drybag saya
untuk mengamankan barang-barang yang akan di bawa di tengah snorkeling seperti
ponsel dan dompet. Saya memang bisa berenang &mdash; meski tidak terlalu mahir. Akan
tetapi, entah mengapa, saya selalu takut melihat laut yang sesungguhnya. Sekitar
pukul 10.00, kapal berhenti untuk snorkeling sesi pertama. Saya mencoba turun
perlahan dari kapal dengan menggunakan tangga. Ketakutan saya menghilang ketika
benar-benar bisa mengambang di air menggunakan pelampung. Saya menikmati
terumbu karang yang indah di sana. Saya tidak ingat persis sampai berapa lama
snorkeling ini berlangsung. Yang pasti kami sekitar pukul 12 sudah tiba di pulau
<s>bakwan</s> perak lagi. Kali ini, saya bersama beberapa rekan saya, Wisnu dan
Ulil, mencoba mengitari pulau perak. Di dalamnya, ada hutan. Ketika hutan itu
kita lalui, kita melihat pantai yang sepertinya tidak tersentuh. Sangat bersih.
Meski demikian, kami yakin kami bukanlah yang pertama yang menemukan pantai
tersebut karena kami melihat ada dua jejak kaki di sana.</p>

<p>Yang saya ingat ketika mengitari pulau? Tentu saja, Crysis!</p>

<p>Snorkeling kedua dimulai sekitar pukul 13.30. Saya tidak ingat persis, tetapi
pada snorkeling kali ini saya mencoba untuk melepas pelampung dan mencoba
ke dasar laut. Berhasil! Saya benar-benar bersyukur kala itu karena berhasil
membunuh rasa takut saya.</p>

<p>Kami sampai kembali di Pulau Harapan sekitar pukul 17.45. Kami mandi, santap
malam, kemudian <s>memantau</s> menikmati <em>performance</em> <s>nginx dengan Grafana
</s>. Saya kembali ke kamar duluan pada pukul 21.30 karena mengantuk.</p>

<h3>Hari ke-3</h3>

<p>Seperti hari sebelumnya, kami santap pagi pukul 06.30. Akan tetapi, kali ini,
kami coba berjalan untuk menyusuri dan melihat-lihat pulau kelapa. Kami
berangkat pukul 05.30 bersama rekan saya, Hanif, Aji, dan Adhelia.
Di sana kami melewati &ldquo;jembatan&rdquo;. Jangna bayangkan jembatan di sini sama dengan
jembatan yang ada di pulau Tidung. Jembatan ini cukup modern karena terbuat dari
<em>concrete</em>. Kemudian, terlihat jembatan tertanam di dasar yang tidak terlalu
dalam (berbeda sekali dengan jembatan di pulau Tidung). Kami hanya sampai
pinggir pulau kelapa karena beberapa dari rekan saya belum melakukan <em>packing</em>.
Kami pulang dan santap pagi. Kami tiba di <em>port</em> sekitar pukul 08.00, berangkat,
dan sampai kembali di Muara Karang pukul 11.30. Melihat Google Maps Traffic,
ada beberapa bagian yang merah. Saya bersama beberapa rekan memutuskan untuk
menggunakan kereta saja &mdash; meski jika menggunakan Uber akan dibayarkan oleh
kantor juga.</p>

<blockquote><p>Tips: Di siang hari, di <em>port</em> ada <em>feeder busway</em>. Sebagaimana <em>feeder</em> pada
umumnya, Anda cukup membayar Rp3.500 saja, dan Anda bisa pergi ke koridor
manapun (dengan transit, tentunya) tanpa membayar tambahan uang sama sekali.</p></blockquote>

<h3>Pasca Liburan</h3>

<p>Seperti biasa, saya kembali bermain <a href="http://plays.tv/video/58493361b86d754b29/you-are-rushing-too-much-">kapal-kapalan</a>.
Skill saya <s>yang memang tumpul</s> tampaknya perlu diasah lagi.</p>

<p>Di luar itu, saya masih terasa pusing karena bergoyang-goyang di laut. Saya ingat, beberapa kali
saya melewati laut, memang rasa goyang-goyangnya membekas hingga beberapa jam. Akan tetapi, tidak
perlu khawatir berlebihan.  Terkadang, memang ada masalah yang hanya waktu yang
bisa menjawab. Tidak perlu melakukan apapun, cukup istirahat dan bermain kapal-kapalan saja,
mudah-mudahan rasa goyang-goyang ini segera hilang.</p>

<h3>Eh, ada satu lagi!</h3>

<p>Peentar lagi hiring sekarang. Kita menggunakan Rails di frontend dan Java di backend. Langsung
saja lihat Joel Test nya Peentar di <a href="http://peentar.id/career?ref=wazaundtechnik">Peentar Career</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Lembar Kerja dalam Tiga Puluh Baris Javascript]]></title>
    <link href="http://mufid.github.io/blog/2016/spreadsheet-js/"/>
    <updated>2016-10-25T08:00:00+00:00</updated>
    <id>http://mufid.github.io/blog/2016/spreadsheet-js</id>
    <content type="html"><![CDATA[<p><img src="http://mufid.github.io/images/post/spreadsheet-js.gif" alt="Spreadsheet" /></p>

<p>Saya menjelajahi kembali beberapa tautan yang ada di penanda saya. Saya menemukan
tautan yang sangat menarik beberapa tahun lampau: membuat lembar kerja dalam 30
baris di Javascript. Woh!</p>

<p>Baiklah, untuk membuat cerita lebih pendek, saya melihat kembali dimana keajaiban
baris kode tersebut. Anda dapat melihat kode sumber aslinya di <a href="http://jsfiddle.net/ondras/hYfN3/">Codepen</a>
(via <a href="https://news.ycombinator.com/item?id=6725387">HN</a>). Pertanyaan saya ada
dua:</p>

<ul>
<li>Bagaimana menyelesaikan formula di sana?</li>
<li>Bagaimana <em>dependency resolution</em> antar sel di lembar kerja tersebut?</li>
</ul>


<p>Mari kita bahas yang pertama. Ini menjadi hal yang menarik bagi saya karena
penyelesaian formula berarti Anda membuat DSL sendiri, menerjemahkannya, dan
mengeksekusinya. DSL yang digunakan oleh semua program lembar kerja serupa.
DSL yang digunakan juga dekat dengan bahasa pemrograman pada umumnya. Ya,
menguraikan formula menjadi hal yang dimengerti dan dieksekusi oleh mesin
bukanlah hal yang sederhana.</p>

<p>Ternyata, program Javascript ini tidak memiliki DSL sendiri. Alih-alih,
program ini menggunakan perintah <code>eval</code> sederhana untuk menguraikan
dan mengeksekusi formulanya. Yup, tentu saja jika Anda memasukkan
perintah Javascript yang aneh-aneh &mdash;&ndash; bukan bentuk formula lembar
kerja pada umumnya &mdash;&ndash; Anda akan menemukan sedikit kejanggalan. Anda
dapat memberikan perintah <code>alert</code> pada perintahnya dan <code>alert</code> akan
bena-benar muncul. Tentu saja bukan suatu hal yang akan Anda lakukan
pada mesin produksi, tetapi ini sudah sangat baik sebagai sebuah PoC.</p>

<p>Mari kita bahas yang kedua: bagaimana <em>dependency resolution</em> dilakukan?
Anggap saya memiliki sel A1 berisi <code>=B2 * 5</code> dan B2 yang berisi <code>=100*C2</code>
dan C2 yang berisi <code>99</code>? Bagaimana penyelesaian keterkaitan formula
yang berbeda sel? Ah, &ldquo;keajaiban&rdquo; bahasa yang interpret di sini.</p>

<p>Anda dapat melihat di kode tersebut: ada perintah yang membuat property.
Lihat pada bagian ini:</p>

<pre><code>var getter = function() {
    var value = localStorage[elm.id] || "";
    if (value.charAt(0) == "=") {
        with (DATA) return eval(value.substring(1));
    } else { return isNaN(parseFloat(value)) ? value : parseFloat(value); }
};
Object.defineProperty(DATA, elm.id, {get:getter});
Object.defineProperty(DATA, elm.id.toLowerCase(), {get:getter});
</code></pre>

<p>Ini adalah dokumentasi dari <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">MDN</a>:</p>

<blockquote><p>Object.defineProperty(obj, prop, descriptor)</p>

<p>Parameters</p>

<ul>
<li>obj<br/>
The object on which to define the property.</li>
<li>prop<br/>
The name of the property to be defined or modified.</li>
<li>descriptor<br/>
The descriptor for the property being defined or modified.</li>
</ul>
</blockquote>

<p>Jadi, pada dasarnya, <code>eval</code> akan dilakukan dengan property di dalam
object bernama <code>DATA</code>. Property-nya sendiri bersifat dinamis, di dalam
fungsi. Properti baru benar-benar didapatkan nilainya apa ketika dieksekusi.
Jadi, sebenarnya yang melakukan dependency resolution adalah <code>eval</code> itu sendiri.
Program ini tidak benar-benar membuat <em>dependency graph</em> seperti yang
saya bayangkan sebelumnya.</p>

<p>Sebagai contoh, ada formula <code>=A9*Math.cos(B2)</code>. Yang terjadi adalah Javascript
<code>eval</code> akan mengevaluasi <code>A9 * Math.cos(B2)</code> ke dalam sel tersebut. <code>Math.cos</code>
adalah fungsi bawaan Javascript sehingga tidak perlu dipertanyakan. Bagaimana
dengan A9 dan B2? Dua variabel tersebut adalah property dalam objek <code>DATA</code>
yang dapat diakses tanpa mengetikkan <code>DATA</code> berkat idiom <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/with">with</a>. Apa nilai A9 dan B2? Belum tahu. Akan tetapi,
karena A9 dan B2 itu sendiri merupakan property yang memiliki getter sendiri,
maka kemudian <code>eval</code> akan mengeksekusi <code>DATA.A9</code>  dan <code>DATA.B2</code> &mdash; yang mana
di dalam property tersebut akan melakukan <code>eval</code> lagi jika diawali dengan <code>=</code>.</p>

<p>Bagaimana jika ada <em>circular reference</em>? Ini diakali dengan <em>try-catch</em>
sederhana berikut:</p>

<pre><code>INPUTS.forEach(function(elm) { try { elm.value = DATA[elm.id]; } catch(e) {} });
</code></pre>

<p>Jika terdapat <code>circular reference</code>, call-stack akan menjadi sangat panjang.
Bayangkan B2 menggunakan nilai dari A1 dan A1 menggunakan nilai dari B2.
Akan terjadi sebuah pemanggilan fungsi <code>getter</code> terhadap dua sel berbeda
yang tidak ada habisnya. Ketika call stack sangat panjang, interpreter akan
menghasilkan exception, yang ditangkap, dan diabaikan.</p>

<p>Saya rubah kode asli agar menangkap exception dan mencetaknya. Beriktu hasilnya:</p>

<p><img src="http://mufid.github.io/images/post/spredsheet-js-too-much-recursion.png" alt="Recursion" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Resolusi Monitor dan DPI]]></title>
    <link href="http://mufid.github.io/blog/2016/dpi-resolution/"/>
    <updated>2016-10-05T08:00:00+00:00</updated>
    <id>http://mufid.github.io/blog/2016/dpi-resolution</id>
    <content type="html"><![CDATA[<p>Saya sudah berencana sejak lama sekali untuk mengganti monitor saya dari 17&#8221; dengan resolusi 1440x900
yang menurut saya cukup kekecilan untuk mata saya. Jika resolusi 17&#8221; tersebut kekecilan, berapa yang
&ldquo;tidak kekecilan&rdquo; bagi saya? Untuk itu, saya perlu mendefinisikan apa itu &ldquo;kekecilan.&rdquo;</p>

<p>&ldquo;Terlalu kecil&rdquo; terkait dengan ukuran teks-teks yang ada di layar. Itu definisi &ldquo;terlalu kecil&rdquo; yang
cukup jelas. Baiklah, question time! Pastinya akan muncul pertanyaan, &ldquo;kalau teksnya kekecilan, ya
yang digedein teksnya! Bukan monitornya!&rdquo; Tepat sekali. Itulah yang dilakukan para pengguna Mac
Retina Display. Di MBPr, ada setting bernama &ldquo;scaled resolution&rdquo; yang melakukan emulasi resolusi
layar ke resolusi &ldquo;yang diinginkan&rdquo;. Sekali lagi, ini emulasi. Yang di-render sebenarnya tetap
resolusi native. Oleh karena itulah, kalau mengembangkan aplikasi untuk Mac, kita perlu menyertakan
raster untuk DPI yang berbeda &mdash; agar hasil rendernya optimal.</p>

<p>Sayang sekali, emulasi resolusi (&ldquo;scaled resolution&rdquo;) hanya ada di Mac. Android memang memiliki
fitur membesarkan ukuran teks, tetapi hanya teks. Untuk memperburuk suasana, tidak semua aplikasi
<em>respect</em> dengan setelan ukuran teks ini. Alasannya karena layout nya nanti rusak, katanya.</p>

<p>Windows juga memiliki fitur &ldquo;membesarkan ukuran&rdquo;. Sayang sekali, pengaturan ini tidak berjalan
dengan semestinya. Beberapa program malah rusak dan tidak <em>respect</em> dengan setelan ini.</p>

<p>Oleh karena itu, daripada bergantung dengan software dan saya belum bisa mengafford Mac, jadi
lebih baik saya mencari monitor yang menghasilkan teks yang lebih besar. Dan tentu saja, space
yang lebih lega &mdash; akan tetapi ukuran teks yang lebih besar menjadi penting.</p>

<p>Ukuran teks bisa dinilai dari ppi. Makin tinggi angka ppi, maka makin kecil piksel yang dihasilkan,
maka makin kecil ukuran teksnya. Oleh karena itu, saya perlu mengukur berapa &ldquo;ppi&rdquo; yang pas
untuk saya. Setelah melihat banyak sekali monitor, saya layar 19&#8221; dengan resolusi 1440x900 sangat
cocok untuk mata saya. Ukurannya enggak bikin sakit untuk dilihat dalam waktu lama. Akan tetapi,
ruang 1440x900 terlalu kecil untuk saya, maka saya perlu mencari ruang yang lebih besar.</p>

<p>Jadi, saya akan mencari monitor dengan ppi yang lebih rendah / mendekati ppi monitor 1440x900 di
19&#8221; dengan resolusi yang lebih tinggi. Awalnya, saya sangat kesemsem dengan layar 2K di
ukuran 27&#8221;. Akan tetapi, setelah mengetahui harga monitor 4K tidak jauh berbeda, saya jadi
kesemsem juga.</p>

<p>Sayang sekali, ketika melihat ppi nya, saya kecewa. Berikut rangkuman kalkulasi PPI nya:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>1440x900
</span><span class='line'>  - 17: 99 &lt;--- Terlalu kecil
</span><span class='line'>  - 19: 89 &lt;--- Ideal
</span><span class='line'>
</span><span class='line'>1920x1080
</span><span class='line'>  - 22: 100
</span><span class='line'>  - 23: 95 &lt;-- Terlihat acceptable
</span><span class='line'>  - 24: 91 &lt;-- Sepertinya cukup
</span><span class='line'>  - 25: 88 &lt;-- Ideal
</span><span class='line'>  - 27: 81 &lt;-- Terlalu besar? Kecuali meja saya juga panjang
</span><span class='line'>
</span><span class='line'>2560x1440
</span><span class='line'>  - 25: 117
</span><span class='line'>  - 27: 108
</span><span class='line'>  - 32: 92
</span><span class='line'>
</span><span class='line'>4K
</span><span class='line'>  - 34: 86
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p>Untuk kondisi sekarang, ukurang yang ideal adalah 24-25 dengan resolusi FHD. Lebih tinggi dari itu,
memang space nya cukup lapang (resolusinya lebih tinggi), namun sayangkan ppi terlalu kecil untuk
saya.</p>

<p>Ya begitulah.</p>

<p>Tentu saja, ppi yang nyaman untuk setiap orang berbeda-beda :D</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Cara Googling]]></title>
    <link href="http://mufid.github.io/blog/2016/how-to-google/"/>
    <updated>2016-07-16T22:25:00+00:00</updated>
    <id>http://mufid.github.io/blog/2016/how-to-google</id>
    <content type="html"><![CDATA[<p>Beberapa orang mengeluhkan kepada saya karena gagal menemukan masalah
pemrograman apa yang ingin dicari di Google. Berikut adalah panduan singkat
berdasarkan keluhan-keluhan yang coba saya pahami.</p>

<!-- more -->


<h2>Mengetahui Etika dan Cara Bertanya yang Baik</h2>

<p>Pastikan Anda telah mengetahui etika bertanya. Jika Anda belum membacanya,
bacalah. Baca versi terjemahan dari &ldquo;How to Ask Question The Smart Way&rdquo;
oleh Harry Sufehmi di sini: <a href="http://harry.sufehmi.com/archives/2012-11-07-2556/">http://harry.sufehmi.com/archives/2012-11-07-2556/</a></p>

<h2>Menanyakan Hal yang Tepat</h2>

<p>Selanjutnya, Google bukanlah mesin ajaib yang bisa membaca pikiran kita.
Google hanya dapat menampilkan informasi dari apa yang telah diindeks olehnya.
Oleh karena itu, pikirkan kira-kira kata kunci apa yang perlu dimasukkan di
Google dan ada di dalam indeks Google.</p>

<p>Kita ambil contoh untuk galat. &ldquo;repair&rdquo; adalah kata valid untuk memperbaiki.
&ldquo;Fix&rdquo; pun kata yang valid untuk memperbaiki. Dua-duanya bisa dipakai. Akan
tetapi, ketika digabungkan dengan &ldquo;bug&rdquo;, maka ternyata Google memiliki
informasi &ldquo;fix bug&rdquo; lebih banyak daripada &ldquo;repair bug&rdquo;. Oleh karena itu,
sebaiknya Anda menggunakan kata-kata &ldquo;fix&rdquo; dibanding &ldquo;repair&rdquo;.</p>

<p><img src="http://mufid.github.io/images/post/trends-bug-repair.png" alt="Fix, Jangan Repair" /></p>

<p>Beberapa orang tidak merekomendasikan pencarian yang mengandung kata kurang
bermakna seperti &ldquo;How to X&rdquo; dan &ldquo;What is Y&rdquo;. Ini ada benarnya karena kata-kata
yang tidak bermakna justru akan mengotori hasil pencarian. Contohnya Anda
sedang ingin mencari nama komputer yang dibuat oleh Apple, maka dimanakah
kira-kira Anda dapat melihat nama komputernya? Tentu di websitenya Apple. Meski
demikian, memasukkan &ldquo;apple computer apple website&rdquo; menghasilkan</p>

<h2>Mengetahui Konteks</h2>

<p>Anda perlu mengetahui konteks terhadap apa yang ingin Anda cari. Sebagai contoh,
Anda ingin mengetahui konsep &ldquo;bridge&rdquo; di dunia pemrograman. Anda perlu secara
sadar memahami bahwa Anda sedang mencari konsep bridge, bukan jembatan fisik,
atau apapun itu.</p>

<p>Memasukkan &ldquo;bridge programming&rdquo; mungkin akan menemukan hal yang tidak
bermakna. Ada banyak hal yang berkaitan dengan bridge. Jangan-jangan, kita
malah menemukan bagaimana caranya membuat permainan kartu. Ya, penting
bagi kita untuk mengetahui konteks bahwa ada permainan kartu bernama bridge.</p>

<p>Maka dari itu, kita perlu memahami konteksnya. &ldquo;Bridge seperti apa yang kita
cari?&rdquo; Kita perlu menilik bridge ini dekat ke apa. Apakah library? Bukan.
Ini adalah konsep pemrograman. Maka kita perlu menilik lagi, &ldquo;Apa saja
konteks yang ada di konsep pemrograman?&rdquo;</p>

<p>Secara umum, kita bisa membuka buku pemrograman dasar seperti Big Java atau
buku-buku di seri Heads Up dan melihat &ldquo;bridge&rdquo; ini lebih dekat ke mana.</p>

<ul>
<li>&ldquo;Data Structure&rdquo;. Apakah bridge ini termasuk ke struktur data? Semacam
LinkedList? Sepertinya relevansinya kurang. Lanjut ke bab selanjutnya.</li>
<li>&ldquo;User Interface&rdquo;. Tentu saja bukan gambar jembatan yang kita maksud</li>
<li>&ldquo;Network&rdquo;. Baiklah, kita mulai menemukan masalah. Kalau Anda mencari &ldquo;bridge
network&rdquo; maka Anda akan menemukan banyak sekali hasil yang terkesan relevan.
Di sinilah penting untuk memahami konteks: Hasilnya terkesan relevan, tapi
apakah ini yang Anda cari? Ketika menelusuri lebih dalam, ternyata ada istilah
&ldquo;bridge&rdquo; juga di pemrograman jaringan, tetapi bukan konsep pemrograman itu
yang sedang kita cari.</li>
<li>&ldquo;Algorithm&rdquo;. Oke, ini kasusnya mirip dengan butir sebelumnya. Terkesan
menjadi solusi padahal bukan ini yang kita cari.</li>
<li>&ldquo;Design Pattern&rdquo;. Aha. Ketika kita mencari &ldquo;bridge design pattern&rdquo;, maka
kita akan menemukan hal yang tepat!</li>
</ul>


<p>Pemahaman konteks juga penting agar kita menggunakan terminologi yang tepat.
Di dunia terkait, banyak istilah yang sama tapi artinya berbeda.
Semisal, &ldquo;instance&rdquo; itu bisa berarti
kelas yang sudah di-construct (kelas yang telah di-instatiate), atau
juga bisa berarti mesin-mesin VM yang hidup (&ldquo;EC2 Instance&rdquo; misalnya).</p>

<h2>Lebih Umum, atau Lebih Spesifik</h2>

<p>Ketika mencari error, panduan umumnya adalah googling saja pesan errornya.
Atau, boleh jadi error itu intermitent (hanya kadang-kadang terjadi) sehingga
kita perlu mencari hal yang lebih umum dari error yang bersangkutan. Atau,
boleh jadi error tersebut sangat kontekstual sehingga kita perlu mencari
tingkatan yang lebih umum.</p>

<p>Misalnya, errornya terjadi karena NullPointerException. Ini sudah cukup jelas;
kesalahan terjadi karena Anda mencoba mengakses objek yang nilainya null. Akan
tetapi, Anda tidak sedang mem-pass parameter yang null. Oleh karena itu, coba
lihat lagi secara lebih umum. Meng-google &ldquo;NullPointerException java&rdquo; akan
menghasilkan hasil pencarian yang sampah. Hindari.</p>

<p>Akan tetapi, misalnya Anda ternyata menggunakan library Spring dengan modul
Autowired. Coba ini saja yang dicari, jadi &ldquo;NullPointerException spring
autowired&rdquo;.</p>

<h2>Forum!</h2>

<p>Ketika Anda telah melakukan itu semua, tetapi belum menemukan jawabannya,
selamat, masalah Anda ternyata tidak
ada di Google. Akan tetapi, Anda telah sangat mengerti permasalahan yang
Anda alami. Bertanyalah di forum atau StackOverflow. Atau, beberapa
komunitas juga memiliki Slack. Coba tanya di sana. Anda akan dibalas dengan
cepat. Percayalah, orang-orang di internet akan sangat menghargai Anda
jika Anda telah melakukan usaha memahami dulu apa yang hendak Anda tenyakan.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[In Ruby, Everything is Evaluated]]></title>
    <link href="http://mufid.github.io/blog/2016/ruby-class-evaluation/"/>
    <updated>2016-07-10T22:25:00+00:00</updated>
    <id>http://mufid.github.io/blog/2016/ruby-class-evaluation</id>
    <content type="html"><![CDATA[<p>So if i write</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">hello</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="s1">&#39;world&#39;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>It will evaluate <code>def</code>, to which Ruby will &ldquo;create a method named hello in global scope, with puts &lsquo;world&rsquo; as a block&rdquo;. We can change &ldquo;global scope&rdquo; to any object we want.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Greeting</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">hello</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s1">&#39;world&#39;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>The class &ldquo;Greeting&rdquo; is actually EVALUATED, NOT DEFINED (e.g. In Java, after we define a signature of a class/method, we can&rsquo;t change it, except using reflection). So actually, we can put anything in &ldquo;Greeting&rdquo; block, like</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Greeting</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="s2">&quot;Will define hello in greeting&quot;</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">hello</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s1">&#39;world&#39;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Save above script as &ldquo;test.rb&rdquo; (or anything) and try to run it. It will show &ldquo;Will define hello in greeting&rdquo; EVEN you don&rsquo;t call &ldquo;Greeting&rdquo; class or &ldquo;hello&rdquo; class or you don&rsquo;t even need to instantiate &ldquo;Greeting&rdquo; class. This language feature allows meta programming, like what we see in Rails.</p>

<p>This time i will use Class Attribute within active support. If you ever run Rails, you should have it, but you can <code>gem install active_support</code> if you don&rsquo;t.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;active_support/core_ext/class/attribute&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="k">module</span> <span class="nn">Greeting</span><span class="p">;</span> <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Greeting</span><span class="o">::</span><span class="no">Base</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">class_attribute</span> <span class="ss">:blocks</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">blocks</span><span class="o">[</span><span class="ss">:greeting</span><span class="o">].</span><span class="n">call</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">blocks</span><span class="o">[</span><span class="ss">:hello</span><span class="o">].</span><span class="n">call</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="kp">protected</span>
</span><span class='line'>  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">define_greeting</span><span class="p">(</span><span class="n">sym</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">blk</span><span class="p">)</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">blocks</span> <span class="o">||=</span> <span class="p">{}</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">blocks</span><span class="o">[</span><span class="n">sym</span><span class="o">]</span> <span class="o">=</span> <span class="n">blk</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Greeting</span><span class="o">::</span><span class="no">English</span> <span class="o">&lt;</span> <span class="ss">Greeting</span><span class="p">:</span><span class="ss">:Base</span>
</span><span class='line'>  <span class="n">define_greeting</span> <span class="ss">:greeting</span> <span class="k">do</span> <span class="o">|</span><span class="n">who</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Hi </span><span class="si">#{</span><span class="n">who</span><span class="si">}</span><span class="s2">, Ruby will greet you with hello world!&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>  <span class="n">define_greeting</span> <span class="ss">:hello</span> <span class="k">do</span> <span class="o">|</span><span class="n">who</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Hello World, </span><span class="si">#{</span><span class="n">who</span><span class="si">}</span><span class="s2">!&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Greeting</span><span class="o">::</span><span class="no">Indonesian</span> <span class="o">&lt;</span> <span class="ss">Greeting</span><span class="p">:</span><span class="ss">:Base</span>
</span><span class='line'>  <span class="n">define_greeting</span> <span class="ss">:greeting</span> <span class="k">do</span> <span class="o">|</span><span class="n">who</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Halo kakak </span><span class="si">#{</span><span class="n">who</span><span class="si">}</span><span class="s2">, Ruby akan menyapamu dengan Halo Dunia!&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>  <span class="n">define_greeting</span> <span class="ss">:hello</span> <span class="k">do</span> <span class="o">|</span><span class="n">who</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Halo dunia! Salam, </span><span class="si">#{</span><span class="n">who</span><span class="si">}</span><span class="s2">!&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">x</span> <span class="o">=</span> <span class="ss">Greeting</span><span class="p">:</span><span class="ss">:English</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'><span class="n">x</span><span class="o">.</span><span class="n">hello</span> <span class="s2">&quot;Fido&quot;</span>
</span><span class='line'><span class="c1"># Hi Fido, Ruby will greet you with hello world!</span>
</span><span class='line'><span class="c1"># Hello World, Fido!</span>
</span><span class='line'><span class="n">x</span> <span class="o">=</span> <span class="ss">Greeting</span><span class="p">:</span><span class="ss">:Indonesian</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'><span class="n">x</span><span class="o">.</span><span class="n">hello</span> <span class="s2">&quot;Fido&quot;</span>
</span><span class='line'><span class="c1"># Halo kakak Fido, Ruby akan menyapamu dengan Halo Dunia!</span>
</span><span class='line'><span class="c1"># Halo dunia! Salam, Fido!</span>
</span></code></pre></td></tr></table></div></figure>


<p>Previously i want to move the class attribute logic to above code, but after i see the <a href="https://github.com/rails/rails/blob/e35b98e6f5c54330245645f2ed40d56c74538902/activesupport/lib/active_support/core_ext/class/attribute.rb">Active Support code</a>, it is pretty complex, so i just require it : /</p>

<hr />

<p>Previously, i posted <a href="https://www.reddit.com/r/ProgrammerTIL/comments/4s2vmr/ruby_til_in_ruby_everything_is_evaluated/">this in Reddit</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Using Class with Generics &lt;T&gt; Without the T in C#]]></title>
    <link href="http://mufid.github.io/blog/2016/generic-type-csharp/"/>
    <updated>2016-05-04T06:51:00+00:00</updated>
    <id>http://mufid.github.io/blog/2016/generic-type-csharp</id>
    <content type="html"><![CDATA[<p>So lately I have been developing a C# application with Xamarin. Then I faced a design problem where I should be able to call a function inside a class with generic type, but I don&rsquo;t know what is the generic type. Furthermore, I don&rsquo;t care what is the type of the generic.</p>

<p>Imagine a situation like this: I have a class like this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">Wrapper</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="k">where</span> <span class="n">T</span> <span class="p">:</span> <span class="n">IDestroyable</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">T</span> <span class="nf">RetrieveValue</span><span class="p">()</span> <span class="p">{</span> <span class="cm">/* body */</span> <span class="p">}</span>
</span><span class='line'>  <span class="k">void</span> <span class="nf">Destroy</span><span class="p">()</span> <span class="p">{</span> <span class="cm">/* body */</span> <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Let&rsquo;s go straight to the point: What if I want to call Destroy, but I don&rsquo;t care what is T? So I have</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="kt">object</span> <span class="n">x</span> <span class="c1">// instance of Wrapper</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>object x</code> is an instance of <code>Wrapper</code>. But I can&rsquo;t cast it into wrapper without knowing the exact value of the generic type. I can&rsquo;t do something like this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">Object</span> <span class="n">x</span> <span class="p">=</span> <span class="n">something</span><span class="p">;</span>
</span><span class='line'><span class="p">(</span><span class="n">X</span> <span class="k">as</span> <span class="n">Wrapper</span><span class="p">&lt;?&gt;).</span><span class="n">Destroy</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>Also, generic is tightly coupled in C#. Meanwhile, in Java, generic is optional. If you don&rsquo;t specify the generic, Java just simply treat the generic type as <code>Object</code>. In java you can write the code like below, but not in C#:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="p">(</span><span class="n">X</span> <span class="k">as</span> <span class="n">Wrapper</span><span class="p">).</span><span class="n">Destroy</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>So how do I call <code>Destroy</code> without knowing the <code>T</code>? Surprisingly, the solution is pretty simple. Just extract the <code>Destroy</code> method to an interface:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">interface</span> <span class="n">IWrapperDestroyer</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">void</span> <span class="nf">Destroy</span><span class="p">()</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">Wrapper</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="p">:</span> <span class="n">IWrapperDestroyer</span> <span class="k">where</span> <span class="n">T</span> <span class="p">:</span> <span class="n">IDestroyable</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">T</span> <span class="nf">RetrieveValue</span><span class="p">()</span>
</span><span class='line'>  <span class="k">void</span> <span class="nf">Destroy</span><span class="p">()</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>So that I can simply call this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="p">(</span><span class="n">X</span> <span class="k">as</span> <span class="n">IWrapperDestroyer</span><span class="p">).</span><span class="n">Destroy</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>Perhaps the next question is, why we get <code>x</code> as an <code>object</code> type at the first place? Why don&rsquo;t we just simply make it stronger type to <code>Wrapper</code> with known <code>T</code>? I don&rsquo;t know. Perhaps because I am working too much with reflection since I am creating Xamarin-based Android and iOS application with MvvmCross.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Having Fun with Java's Null]]></title>
    <link href="http://mufid.github.io/blog/2015/null/"/>
    <updated>2015-04-23T20:52:00+00:00</updated>
    <id>http://mufid.github.io/blog/2015/null</id>
    <content type="html"><![CDATA[<p>So lately i have been diving really deep (or not really) into Java. I found Java&rsquo;s null is interesting. I think, i hate <code>NullPointerException</code> very much. And most of the time, i hate my own way to deal with those things.</p>

<p>Btw, if you hate compiling Java&rsquo;s code just to test a one-line command, you may use <a href="https://github.com/albertlatacz/java-repl">JavaRepl</a>, which will give you an interactive mode of Java compiler.</p>

<h2>String Concatenation</h2>

<p>This is interesting. If you run</p>

<pre><code>String result = object + " is cool";
</code></pre>

<p>will invoke <code>toString</code> of the object <strong>only if the object is not null</strong>. If the object is null, <code>toString</code> will not be invoked and it will be replaced with <code>null</code> instead</p>

<pre><code>String result = new Object() + " is cool";
java.lang.Object@55c8a526 is cool

String result = new Object().toString() + " is cool";
java.lang.Object@55c8a526 is cool

String result = null + " is cool";
null is cool
</code></pre>

<p>But, you can&rsquo;t really invoke toString :))</p>

<pre><code>Object o = null;
String result = o.toString() + " is cool";
java.lang.NullPointerException
</code></pre>

<h2>Object Unboxing</h2>

<p>Well, since my code may be executed at another machine, serializing is very usual. And sometimes, i find it is also interesting how Java&rsquo;s boxing and unboxing work.</p>

<p>This routine will always work:</p>

<pre><code>long l = ...;
Long boxedLong = l;
</code></pre>

<p>But how about this?</p>

<pre><code>Long boxedLong = ...;
long l = boxedLong;
</code></pre>

<p>Yes, as you might expect, it may throw <code>NullPointerException</code>. Let&rsquo;s play with it:</p>

<pre><code>long l = (Long) null;
java.lang.NullPointerException
</code></pre>

<p>It is not fun. Really. For primitive-in-boxed object, we may want to use <code>itsTypeValue</code>. But in fact, you can&rsquo;t do that with Long. Meanwhile, you can do that with Boolean.</p>

<pre><code>long l = ((Long) null).longValue();
java.lang.NullPointerException

long l = new Long(null).longValue();
java.lang.NumberFormatException: null

new Boolean(null).booleanValue();
false
</code></pre>

<p>What really happened to those? I don&rsquo;t know.</p>

<h2>if not null and not null</h2>

<p>Sometimes, my flawless code merely run into this horrible lengthy operators:</p>

<pre><code>if (provider != null &amp;&amp; provider.getGlobalInfo() != null) {
    InfoBase globalInfo = provider.getGlobalInfo();
    doSomethingWith(globalInfo);
}
</code></pre>

<p>Well&hellip; what if i have something longer than that? Simply add null check before <code>doSomethingWith(that)</code>!</p>

<pre><code>if (provider != null &amp;&amp; provider.getProviderCoordinate() != null &amp;&amp; provider.getProviderCoordinate().getLatidudeBase() != null ) {
    Coordinate c = provider.getProviderCoordinate().getLatidudeBase();
    doSomethingWith(globalInfo);
}
</code></pre>

<p>Well.. still too long. <strong>You don&rsquo;t really need to get into that detail.</strong> Take care of your object&rsquo;s contract. Why don&rsquo;t we give a default value instead of null?</p>

<pre><code>class ProviderBase {
  InfoBase globalInfo;
  InfoBase getGlobalIInfo() {
    if (globalInfo == null) {
      return InfoFactory.getDefaultInfo();
    }
    return globalInfo;
  }
}
</code></pre>

<p>But still, <strong>if null is expected, then handle it with a better way.</strong> Just because i hate NPE, it is just better to give default value because most of the time null data is caused by serialization of not-yet-completed data model migration. You might have a better way other than default value (like, Annotation?), but you get the idea.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Instant Messaging (Including Whatsapp) Is Not For Mobile]]></title>
    <link href="http://mufid.github.io/blog/2015/no-im-at-least-for-now/"/>
    <updated>2015-04-03T20:56:00+00:00</updated>
    <id>http://mufid.github.io/blog/2015/no-im-at-least-for-now</id>
    <content type="html"><![CDATA[<p>Well, it&rsquo;s been a while since i broke <a href="http://www.gsmarena.com/lenovo_p780-5544.php">my smartphone</a>. Since communication is very important these days, i should get a new phone ASAP. Fortunately i only need calling and texting, so i can simply buy <a href="http://www.samsung.com/levant/consumer/mobile-phones/feature-phones/feature-phones/GT-E1205ZOTTUN">a dumbphone</a> to fullfill my need.</p>

<p>What? A dumbphone for today&rsquo;s communication? What on earth am  i actually doing? Because i only need SMS and GSM call. Even though my friends is actually on LINE, Whatsapp, Telegram, Skype, etc; <em>those are actually a decoy to a more horrible communication</em>. Let me tell you why i am doing this.</p>

<p>The first one, i am still able to contact my friend via phone call. So, no big deal.</p>

<p>The second one, i constantly use <a href="http://slack.com">Slack</a> for office-related communication. Release, hotfix, bug, &ldquo;random chit-chat&rdquo;. And since i use my office&rsquo;s notebook with real keyboard, typing feels very convenient. Copy-paste log into Slack and let my coworker see them. Screenshot? Simply drag and drop. Need to notify someone about your new deployment? Private message her/him. Still does not work? We can switch back communication to email anytime we want.</p>

<p>The last one and the most important thing, i don&rsquo;t need IM in my phone. Seriously. It is very handy to consume content on mobile, but not for producing it, including typing in it for 30 minutes or more. If we need to get something serious, we should do it within a big keyboard, where we can respond it fast and type it fast. But that&rsquo;s just one problem.</p>

<p>Another problem is its distraction. Enough is enough. Even though i use Slack on my computer, i don&rsquo;t need Slack on my mobile phone. When i had my smartphone, i didn&rsquo;t install it too. A simple notification &ldquo;Hey your build is broken,&rdquo; to my phone simply could break my mood when it comes in weekend. Also, if it is really important thing, people won&rsquo;t message me. They will call me. So, who need IM in mobile, anyway?</p>

<p>How about last-minute notification when i have a meetup? &ldquo;Hey Mufid, i am sorry, the venue was changed. Now we are in Coffee shop, no more in Cafe. See you soon!&rdquo; NO. If we plan it well, we will never have a last-minute information or last-minute-to-do-asap. Remember when we didn&rsquo;t have a phone and/or when we were still using <a href="http://en.wikipedia.org/wiki/Pager">a pager</a>? Remember how we planned everything very well so we minimize last-minute communication since at that time it was very hard to notify someone if we changed our plan in the last minute?</p>

<p>I will using my dumbphone, at least until i know why IM in Mobile is actually good for me.</p>

<p>Edit: sorry for my English. Feel free to give feedback. I will very happy if someone could help improve my English. I am not a native unfortunately : (</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Kedewasaan Pengguna (Penggunaan) Internet Indonesia]]></title>
    <link href="http://mufid.github.io/blog/2015/flamebait/"/>
    <updated>2015-01-30T11:19:00+00:00</updated>
    <id>http://mufid.github.io/blog/2015/flamebait</id>
    <content type="html"><![CDATA[<p>Mari kita mulai dengan <a href="https://www.google.com/publicdata/explore?ds=d5bncppjof8f9_&amp;ctype=l&amp;strail=false&amp;bcs=d&amp;nselm=h&amp;met_y=it_net_user_p2&amp;scale_y=lin&amp;ind_y=false&amp;rdim=region&amp;idim=country:USA:CHN:GBR:IDN&amp;ifdim=region&amp;hl=en&amp;dl=en&amp;ind=false&amp;icfg">data:</a></p>

<p><img src="http://mufid.github.io/images/post/internet-growth.png" alt="Pertumbuhan Internet di Indonesia" /></p>

<p>Ada yang mengatakan Indonesia telat mengadopsi internet. Hal ini benar karena negara-negara barat seperti US dan UK yang sudah mulai mengadopsi secara masif sejak akhir 90an. Meski demikian, perkembangan internet di Indonesia sangatlah cepat. Menurut data dari Bank Dunia, ada 2,1% dari populasi Indonesia yang memiliki akses ke internet pada 2011. Dalam waktu 12 tahun, angka ini meningkat hingga hampir 8x-nya. Iya, delapan kalinya.</p>

<p>Seperti apa 8x peningkatan itu? Misalnya Anda tadinya naik kereta harganya Rp16.000, kemudian menjadi hanya Rp2.000 saja. Ini peningkatan penghematan yang luar biasa, bukan?</p>

<p>Akan tetapi, apa artinya peningkatan ini untuk Indonesia? <a href="http://priyadi.net/archives/category/internet/">Banyak</a>. Di antaranya, kita jadi <em>engeh</em> terhadap <a href="https://plus.google.com/+HarrySufehmi/posts/HrQDsKiVkaG">keuntungan yang bisa kita dapatkan</a> karena <a href="http://www.fastcoexist.com/1679559/want-to-boost-the-economy-boost-internet-speeds">memiliki akses internet cepat</a>.</p>

<blockquote><p><em>Anyway,</em> di zaman yang sudah serba digital ini, dimana bahkan Nenek saya sudah biasa Skype / Facetime dengan anaknya di luar negeri, akses Internet sudah menjadi salah satu kebutuhan pokok banyak orang. Dan seperti yang sudah banyak diteliti &amp; dibahas, akses broadband / internet kecepatan tinggi akan membuka banyak peluang ekonomi bagi masyarakat.</p></blockquote>

<p>Di sisi lain, kita juga menjadi paham bahwa <a href="http://en.wikipedia.org/wiki/Category:Internet_culture"><em>internet culture</em></a> tidak selamanya baik. Ya,&hellip; begitulah.</p>

<p>Sebagai contoh, pada awal kemunculan milis dan IRC di awal 2000-an, kita sering sekali mendengar berita hoax atau berita yang tidak benar. Berita hoax ini biasanya mengejutkan, sehingga mungkin banyak orang langsung meneruskan informasi ini ke orang lain tanpa mengecek terlebih dahulu kebenarannya. Salah satu hoax yang terjadi pada saat itu adalah <a href="https://groups.yahoo.com/neo/groups/halal_baik_enak/conversations/topics/3387">hoax mengenai KFC:</a></p>

<blockquote><p>Assalamu&#8217;alaikum wr.wb,</p>

<p>Tentang berita ayam KFC itu adalah hoax email. Harian Suara karya kurang
teliti dalam menanggapi berita ayam KFC yang sudah terlanjur tersebar di
internet.</p>

<p>Kenyataannya :</p>

<ol>
<li>Tidak pernah ada study tentang KFC dilakukan di University of New
Hampshire.</li>
<li>KFC biasanya tidak mengembangkan atau membiakkan sendiri ayamnya, tapi
membeli dari peternak yang sudah dipilih.</li>
<li>Kentucky Fried Chicken sudah berubah nama menjadi KFC sejak tahun
1991, bukan baru-baru ini.</li>
<li>KFC sendiri memberi nama produk ayamnya seperti Original
Recipe&trade;Chicken, Tender Roast Chicken dll.</li>
</ol>
</blockquote>

<p>Ya, hoax itu memang cerita lama. Saya pikir, pengguna internet sudah <em>aware</em> dengan hal-hal yang kredibilitasnya dipertanyakan seperti ini. Tetapi entah kenapa, <em>hal tersebut muncul lagi sekarang.</em> Hoax mengenai presiden dan pemilu. Hoax mengenai islam. Hoax mengenai&hellip;. ah, terlalu banyak.</p>

<p><strong>Dan anehnya, banyak yang <em>nge-share</em> itu berita hoax itu di Facebook.</strong></p>

<p>Bermunculanlah istilah-istilah seperti <em>flamebait</em>, <em>hoax</em>, dan&hellip;. <a href="http://en.wikipedia.org/wiki/Godwin%27s_law">Hukum Godwin:</a></p>

<blockquote><p>Seiring diskusi di internet berjalan semakin panjang, kemungkinan munculnya perbandingan yang menyangkut Nazi atau Hitler semakin mendekati satu.</p></blockquote>

<p>Ya, itu agak satir <em>sih,</em> intinya ada persepsi di kalangan pengguna internet bahwa beberapa diskusi di internet MUNGKIN menjadi irrasional pada waktu tertentu. Ya, sebagaimana Anda juga pasti memperhatikannya. Tahun lalu, media sosial cukup panas dengan berita-berita <em>flamebait.</em> <em>Oh well,</em> bahkan sampai sekarang saya masih melihat <a href="https://riemetalui.wordpress.com/2015/04/18/recent-economic-and-financial-indicators-report/">post-post blog yang isinya biasa saja tapi komentarnya panas luar biasa</a>.</p>

<h4>But.. Why??</h4>

<p>/huft</p>

<p>Menurut saya, <strong>ini wajar.</strong> Ibarat manusia, mungkin kita masih anak umur tujuh belas tahunan yang labil sekali dan meledak-ledak. Ya, kita baru saja mendapatkan sesuatu yang bernama internet. <em>Hey internet sudah lama loh, 1990an awal juga udah ada.</em> Ya, tapi <strong>dulu pengguna internet masih dalam kalangan terbatas.</strong> Sekarang, sudah lima belas persen. Bahkan di kota besar, <a href="http://apjii.or.id/v2/upload/Laporan/Profile%20of%20Indonesian%20Internet%20Users%202012%20(ENGLISH).pdf">pengguna internet sudah mencapai tiga puluh persen dari populasi</a>. (<a href="http://fs.skyandmurmur.com/apjii/Profile%20of%20Indonesian%20Internet%20Users%202012%20%28ENGLISH%29.pdf">mirror</a>)</p>

<p><img src="http://mufid.github.io/images/post/internet-jakarta.png" alt="Pengguna Internet di Jawa" /></p>

<p>Tapi sampai kapan kita akan menemui flame bait seperti ini?</p>

<p>Entahlah. Berkaca pada perkembangan internet di US dari grafik di atas dan beberapa fakta sejarah <em>internet culture</em>, mungkin, kita harus menghadapi ini sampai sepuluh tahun lagi?</p>

<p>Apa yang bisa kita perbuat untuk mengurangi flamebait?</p>

<p>Entahlah. Kami pengguna internet sejak lama dan tidak tahu. Jika Anda ingin melakukan studi banding, <a href="http://www.theguardian.com/technology/2013/nov/26/youtube-spam-comments-google-plus">Youtube membuat komentar harus dibuat oleh manusia yang menampakkan jati dirinya.</a>. Mungkin, Anda memiliki cara yang lebih baik?</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[A simple pattern in Java: equals]]></title>
    <link href="http://mufid.github.io/blog/2014/pattern-java-equals/"/>
    <updated>2014-10-28T20:16:00+00:00</updated>
    <id>http://mufid.github.io/blog/2014/pattern-java-equals</id>
    <content type="html"><![CDATA[<p>Di Java, kita menggunakan <code>.equals()</code> untuk membandingkan suatu <em>instance</em> apakah bernilai sama atau tidak. Yang masalah adalah ketika Anda membandingkan nilai null. Mari kita ambil contoh kasus sederhana: validasi apakah suatu email dari user berhak mendapatkan bingkisan spesial atau tidak dari nilai yang sudah ditentukan. Misalnya kodenya seperti ini:</p>

<pre><code>String email = request.getEmail();
if (email.equals("yui.hirasawa@example.com")) {
  condition.fullfilled();
  return;
}
condition.fail();
</code></pre>

<p>Ada yang aneh dari kode di atas? Tidak ada. Kode di atas sempurna, sampai Anda menyadari bahwa <strong>email bisa bernilai null</strong>. Akhirnya, equals akan dipanggil ke null. Hal ini menyebabkan NullPointerException. Sehingga, Anda perlu menambahkan hal seperti ini:</p>

<pre><code>String email = request.getEmail();
if (email == null) {
  condition.fail();
  return;
}
if (email.equals("yui.hirasawa@example.com")) {
  condition.fullfilled();
  return;
}
condition.fail();
</code></pre>

<p>Well&hellip; bisa sih, tapi sebetulnya agak melelahkan. Coba perhatikan bahwa predefined email sudah pasti ada, tetapi email input bisa saja null. Kita bisa mencegah exception karena NullPointerException tanpa menambah baris kode sama sekali:</p>

<pre><code>String email = request.getEmail();
if ("yui.hirasawa@example.com".equals(email)) {
  condition.fullfilled();
  return;
}
condition.fail();
</code></pre>

<p>TL;DR: Di Java, jika Anda menggunakan equals, dan salah satu objek dari dua objek yang dibandingkan mungkin mengandung nilai null, maka <strong>panggil <code>.equals()</code> dari objek yang sudah pasti bukan null</strong>.</p>

<p>Happy Coding!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Aku]]></title>
    <link href="http://mufid.github.io/blog/2014/aku/"/>
    <updated>2014-10-12T12:41:00+00:00</updated>
    <id>http://mufid.github.io/blog/2014/aku</id>
    <content type="html"><![CDATA[<p><em>My lovely country is indeed awesome!</em></p>

<p><img src="http://mufid.github.io/images/post/indonesia-lang.jpg" alt="" /></p>

<p><a href="https://www.facebook.com/Languages.Alino1/photos/a.320819614683664.71044.318757448223214/670023456429943/?type=1&amp;theater">Source</a>
<a href="http://www.latg.org/2014/09/indonesian-language.html">More</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[DNS Speedy Lambat]]></title>
    <link href="http://mufid.github.io/blog/2014/speedy-dns-slow/"/>
    <updated>2014-09-20T07:54:00+00:00</updated>
    <id>http://mufid.github.io/blog/2014/speedy-dns-slow</id>
    <content type="html"><![CDATA[<p>Jadi, saya menghidupkan VPN di San Fransisco.
Kalau saya sambungkan komputer saya ke VPN saya;
ajaib, saya browsing apapun terasa cepat sekali.
Akan tetapi, saya tidak merasa ada penurunan
kecepatan internet. Saya curiga ada masalah di DNS.
Oleh karena itu, mari kita cari tahu.</p>

<!-- more -->


<p>Pertama, VPN saya <em>by default</em> menggunakan Google
DNS. Saya pastikan bahwa saya tidak bohong dan
tidak dibohongi:</p>

<figure class='code'><figcaption><span>mark:14 </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vagrant@classifier:/vagrant$ dig -x 8.8.8.8
</span><span class='line'>
</span><span class='line'>    ; &lt;&lt;>> DiG 9.8.1-P1 &lt;&lt;>> -x 8.8.8.8
</span><span class='line'>    ;; global options: +cmd
</span><span class='line'>    ;; Got answer:
</span><span class='line'>    ;; ->>HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 64887
</span><span class='line'>    ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
</span><span class='line'>
</span><span class='line'>    ;; QUESTION SECTION:
</span><span class='line'>    ;8.8.8.8.in-addr.arpa.          IN      PTR
</span><span class='line'>
</span><span class='line'>    ;; ANSWER SECTION:
</span><span class='line'>    8.8.8.8.in-addr.arpa.   86361   IN      PTR     google-public-dns-a.google.com.
</span><span class='line'>
</span><span class='line'>    ;; Query time: 85 msec
</span><span class='line'>    ;; SERVER: 10.0.2.3#53(10.0.2.3)
</span><span class='line'>    ;; WHEN: Sat Sep 20 00:51:33 2014
</span><span class='line'>    ;; MSG SIZE  rcvd: 82</span></code></pre></td></tr></table></div></figure>


<p><em>(Ah iya, maaf, saya sedang login di Vagrant, jadi saya pakai Vagrant)</em></p>

<p>Tidak ada masalah. Saya benar tersambung dengan Google DNS (lihat
rekaman PTR. Perhatikan Query Time nya juga di 4 baris dari terakhir).</p>

<p>Sekarang, mari kita bermain dengan Speedy DNS aka. Telkom DNS:</p>

<figure class='code'><figcaption><span>mark:19 </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vagrant@classifier:/vagrant$ dig -x 118.98.44.10
</span><span class='line'>
</span><span class='line'>    ; &lt;&lt;>> DiG 9.8.1-P1 &lt;&lt;>> -x 118.98.44.10
</span><span class='line'>    ;; global options: +cmd
</span><span class='line'>    ;; Got answer:
</span><span class='line'>    ;; ->>HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 57154
</span><span class='line'>    ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 2, ADDITIONAL: 0
</span><span class='line'>
</span><span class='line'>    ;; QUESTION SECTION:
</span><span class='line'>    ;10.44.98.118.in-addr.arpa.     IN      PTR
</span><span class='line'>
</span><span class='line'>    ;; ANSWER SECTION:
</span><span class='line'>    10.44.98.118.in-addr.arpa. 86400 IN     PTR     10.subnet118-98-44.astinet.telkom.net.id.
</span><span class='line'>
</span><span class='line'>    ;; AUTHORITY SECTION:
</span><span class='line'>    44.98.118.in-addr.arpa. 86400   IN      NS      dns1.telkom.net.id.
</span><span class='line'>    44.98.118.in-addr.arpa. 86400   IN      NS      dns2.telkom.net.id.
</span><span class='line'>
</span><span class='line'>    ;; Query time: 1057 msec
</span><span class='line'>    ;; SERVER: 10.0.2.3#53(10.0.2.3)
</span><span class='line'>    ;; WHEN: Sat Sep 20 00:51:42 2014
</span><span class='line'>    ;; MSG SIZE  rcvd: 135</span></code></pre></td></tr></table></div></figure>


<blockquote><p>WAT? 1057 msec? APA APAAN NIH? Gimana ceritanya saya bisa query DNS
ke US lebih cepat daripada query DNS ke negara sendiri!</p></blockquote>

<p>Karena saya penasaran, saya coba ping keduanya:</p>

<figure class='code'><figcaption><span>mark:1,12 </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vagrant@classifier:/vagrant$ ping 8.8.8.8
</span><span class='line'>    PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.
</span><span class='line'>    64 bytes from 8.8.8.8: icmp_req=1 ttl=48 time=304 ms
</span><span class='line'>    64 bytes from 8.8.8.8: icmp_req=2 ttl=48 time=241 ms
</span><span class='line'>    64 bytes from 8.8.8.8: icmp_req=3 ttl=48 time=241 ms
</span><span class='line'>    64 bytes from 8.8.8.8: icmp_req=4 ttl=48 time=240 ms
</span><span class='line'>    ?
</span><span class='line'>    --- 8.8.8.8 ping statistics ---
</span><span class='line'>    4 packets transmitted, 4 received, 0% packet loss, time 3006ms
</span><span class='line'>    rtt min/avg/max/mdev = 240.019/256.838/304.573/27.565 ms
</span><span class='line'>
</span><span class='line'>    vagrant@classifier:/vagrant$ ping 118.98.44.10
</span><span class='line'>    PING 118.98.44.10 (118.98.44.10) 56(84) bytes of data.
</span><span class='line'>    64 bytes from 118.98.44.10: icmp_req=13 ttl=252 time=24.9 ms
</span><span class='line'>    64 bytes from 118.98.44.10: icmp_req=14 ttl=252 time=25.5 ms
</span><span class='line'>    64 bytes from 118.98.44.10: icmp_req=15 ttl=252 time=25.3 ms
</span><span class='line'>    64 bytes from 118.98.44.10: icmp_req=17 ttl=252 time=23.8 ms
</span><span class='line'>    64 bytes from 118.98.44.10: icmp_req=26 ttl=252 time=168 ms
</span><span class='line'>    64 bytes from 118.98.44.10: icmp_req=27 ttl=252 time=24.3 ms
</span><span class='line'>    64 bytes from 118.98.44.10: icmp_req=30 ttl=252 time=90.9 ms
</span><span class='line'>    64 bytes from 118.98.44.10: icmp_req=31 ttl=252 time=212 ms
</span><span class='line'>    ?
</span><span class='line'>    --- 118.98.44.10 ping statistics ---
</span><span class='line'>    31 packets transmitted, 8 received, 74% packet loss, time 30232ms
</span><span class='line'>    rtt min/avg/max/mdev = 23.830/74.471/212.579/71.128 ms</span></code></pre></td></tr></table></div></figure>


<p>Nah ini. Kenapa query DNS ke negara sendiri bisa lebih lambat
daripada ke negara orang? Note: Saya gak percaya, jangan-jangan
saya masih tersambung ke VPN saya. Sayang sekali, saya tidak
bisa melakukan traceroute dari sini.</p>

<p>Tetapi jika Anda mengalami masalah yang sama, boleh coba
Anda cek, Anda konek ke VPN Anda, kemudian ping ke 8.8.8.8.
Catat hasilnya, putuskan sambungan ke VPN Anda, kemudian
ping ke 118.98.44.10 dan apakah hasilnya sama? Mungkin
dari situ kita bisa saling periksa hasilnya.</p>
]]></content>
  </entry>
  
</feed>
